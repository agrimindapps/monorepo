name: plantis_receituagro_monorepo
repository: https://github.com/seu-usuario/plantis-receituagro-monorepo

packages:
  - apps/*
  - packages/*

command:
  bootstrap:
    environment:
      sdk: ">=3.7.2 <4.0.0"
      flutter: ">=3.10.0"
    
  clean:
    hooks:
      pre: |
        echo "Limpando workspace Plantis & ReceitaAgro..."
    
scripts:
  # Comandos √∫teis para desenvolvimento
  analyze:
    run: flutter analyze
    description: Executa an√°lise est√°tica em todos os packages
    
  format:
    run: dart format --set-exit-if-changed .
    description: Formata c√≥digo em todos os packages
    
  test:
    run: flutter test
    description: Executa testes em todos os packages
    
  # Build APK para todos os apps
  build:all:apk:
    run: |
      echo "Iniciando build APK RELEASE para todos os apps..."
      cd apps/app-plantis && flutter build apk --release && echo "‚úÖ Plantis APK conclu√≠do" &&
      cd ../app-receituagro && flutter build apk --release && echo "‚úÖ ReceitaAgro APK conclu√≠do" &&
      cd ../app-gasometer && flutter build apk --release && echo "‚úÖ Gasometer APK conclu√≠do" &&
      echo "üéâ Todos os builds APK RELEASE foram conclu√≠dos com sucesso!"
    description: Build APK RELEASE para todos os tr√™s apps (Plantis, ReceitaAgro e Gasometer)
    
  build:all:apk:debug:
    run: |
      echo "Iniciando build APK DEBUG para todos os apps..."
      cd apps/app-plantis && flutter build apk --debug && echo "‚úÖ Plantis APK DEBUG conclu√≠do" &&
      cd ../app-receituagro && flutter build apk --debug && echo "‚úÖ ReceitaAgro APK DEBUG conclu√≠do" &&
      cd ../app-gasometer && flutter build apk --debug && echo "‚úÖ Gasometer APK DEBUG conclu√≠do" &&
      echo "üéâ Todos os builds APK DEBUG foram conclu√≠dos com sucesso!"
    description: Build APK DEBUG para todos os tr√™s apps (desenvolvimento)
    
  build:all:apk:profile:
    run: |
      echo "Iniciando build APK PROFILE para todos os apps..."
      cd apps/app-plantis && flutter build apk --profile && echo "‚úÖ Plantis APK PROFILE conclu√≠do" &&
      cd ../app-receituagro && flutter build apk --profile && echo "‚úÖ ReceitaAgro APK PROFILE conclu√≠do" &&
      cd ../app-gasometer && flutter build apk --profile && echo "‚úÖ Gasometer APK PROFILE conclu√≠do" &&
      echo "üéâ Todos os builds APK PROFILE foram conclu√≠dos com sucesso!"
    description: Build APK PROFILE para todos os tr√™s apps (an√°lise de performance)
    
  # Builds para produ√ß√£o (individual por app)
  build:plantis:android:
    run: flutter build appbundle --release
    description: Build App Bundle para Play Store - Plantis (Plantas Dom√©sticas)
    packageFilters:
      scope: "app_plantis"
      
  build:plantis:ios:
    run: flutter build ipa --release
    description: Build IPA para App Store - Plantis (Plantas Dom√©sticas)
    packageFilters:
      scope: "app_plantis"
      
  build:receituagro:android:
    run: flutter build appbundle --release
    description: Build App Bundle para Play Store - ReceitaAgro (Pragas Agr√≠colas)
    packageFilters:
      scope: "app_receituagro"
      
  build:receituagro:ios:
    run: flutter build ipa --release
    description: Build IPA para App Store - ReceitaAgro (Pragas Agr√≠colas)
    packageFilters:
      scope: "app_receituagro"
      
  build:gasometer:android:
    run: flutter build appbundle --release
    description: Build App Bundle para Play Store - Gasometer (Controle de Combust√≠vel)
    packageFilters:
      scope: "app_gasometer"
      
  build:gasometer:ios:
    run: flutter build ipa --release
    description: Build IPA para App Store - Gasometer (Controle de Combust√≠vel)
    packageFilters:
      scope: "app_gasometer"
      
  # Scripts espec√≠ficos por app
  run:plantis:
    run: flutter run
    description: Executa app Plantis (Plantas de Apartamento)
    packageFilters:
      scope: "app_plantis"
      
  run:receituagro:
    run: flutter run
    description: Executa app ReceitaAgro (Comp√™ndio de Pragas)
    packageFilters:
      scope: "app_receituagro"
      
  run:gasometer:
    run: flutter run
    description: Executa app Gasometer (Controle de Combust√≠vel)
    packageFilters:
      scope: "app_gasometer"
      
  # Comandos espec√≠ficos para desenvolvimento
  icons:plantis:
    run: flutter packages pub run flutter_launcher_icons:main -f flutter_launcher_icons-plantis.yaml
    description: Gera √≠cones para Plantis
    packageFilters:
      scope: "app_plantis"
      
  icons:receituagro:
    run: flutter packages pub run flutter_launcher_icons:main -f flutter_launcher_icons-receituagro.yaml
    description: Gera √≠cones para ReceitaAgro
    packageFilters:
      scope: "app_receituagro"